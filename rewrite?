local commands = {}

local function addcmd(cmd , data)
    table.insert(commands, data)
end

local function GetPlayer(Name)
	for _,v in ipairs(game.Players:GetPlayers()) do

		if string.lower(v.Name):match("^" .. string.lower(Name)) then
			return v
		end

	end
	return nil
end

local function findcommand(cmd_name)
    for i,v in pairs (commands) do
        if tostring(i) == tostring(cmd_name) then
            print("true "..i)
            return true
        end
    end
    return false
end

local function FindPlayer(PLAYERNAME)
    if PLAYERNAME == "me" then
        return game.Players.LocalPlayer.Name

    elseif PLAYERNAME == "others" then
        return 0

    elseif PLAYERNAME == "all" then
        return 1
    end
end

local function run_command(cmd, argument)
    local command
    local arguments
    local _index = 0
    for result in string.gmatch(cmd, "%g+") do
        if _index == 0 then
            command = result
        elseif _index == 1 then
            arguments = result
        end
        _index = _index + 1
    end

    if commands[command] then
        commands[command].callback(arguments)
    end

    if not commands[command] then
        
        for index, value in pairs (commands) do
            for index2, value2 in pairs (value.alias) do
                if value2 == command then
                    --
                    commands[index].callback(arguments)
                end
            end

        end

    end

end

local function detect_argument_type(argument)
    if typeof(argument) == "string" then
        return 0

    elseif typeof(argument) == "number" then
        return 1

    elseif typeof(argument) == nil then
        return -1
    end
end

local function _print(argument_string)
    if detect_argument_type(argument_string) == -1 then print("argument is nil") end
    print(argument_string)
end

addcmd("print", {
    name = "print",
    alias = {"p"},
    argument_type = "string",
    callback = _print
})

local function WalkSpeed(argument_int)
    if detect_argument_type(argument_int) == 0 or detect_argument_type(argument_int) == 0 then return end
    game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = argument_int
end

addcmd("speed", {
    name = "speed",
    alias = {"ws"},
    argument_type = "number",
    callback = WalkSpeed
})

run_command("p", "yes")
